From: Jeremy Bicha <jeremy.bicha@canonical.com>
Date: Wed, 7 Sep 2022 10:49:02 -0400
Subject: Disable webkit

webkitgtk 5.0 isn't in Debian Unstable yet
---
 gnome-initial-setup/gis-driver.c          | 6 +++---
 gnome-initial-setup/gnome-initial-setup.c | 4 ++--
 gnome-initial-setup/meson.build           | 2 +-
 gnome-initial-setup/pages/meson.build     | 2 +-
 4 files changed, 7 insertions(+), 7 deletions(-)

diff --git a/gnome-initial-setup/gis-driver.c b/gnome-initial-setup/gis-driver.c
index 1fbf636..4ad6499 100644
--- a/gnome-initial-setup/gis-driver.c
+++ b/gnome-initial-setup/gis-driver.c
@@ -26,7 +26,7 @@
 #include <errno.h>
 #include <locale.h>
 #include <stdlib.h>
-#include <webkit2/webkit2.h>
+/*#include <webkit2/webkit2.h>*/
 
 #include "cc-common-language.h"
 #include "gis-assistant.h"
@@ -779,11 +779,11 @@ static void
 gis_driver_startup (GApplication *app)
 {
   GisDriver *driver = GIS_DRIVER (app);
-  WebKitWebContext *context = webkit_web_context_get_default ();
+/*  WebKitWebContext *context = webkit_web_context_get_default (); */
 
   G_APPLICATION_CLASS (gis_driver_parent_class)->startup (app);
 
-  webkit_web_context_set_sandbox_enabled (context, TRUE);
+/*  webkit_web_context_set_sandbox_enabled (context, TRUE); */
 
   if (driver->mode == GIS_DRIVER_MODE_NEW_USER)
     connect_to_gdm (driver);
diff --git a/gnome-initial-setup/gnome-initial-setup.c b/gnome-initial-setup/gnome-initial-setup.c
index 113ded3..4790bf6 100644
--- a/gnome-initial-setup/gnome-initial-setup.c
+++ b/gnome-initial-setup/gnome-initial-setup.c
@@ -34,7 +34,7 @@
 #include "pages/keyboard/gis-keyboard-page.h"
 #include "pages/network/gis-network-page.h"
 #include "pages/timezone/gis-timezone-page.h"
-#include "pages/privacy/gis-privacy-page.h"
+/*#include "pages/privacy/gis-privacy-page.h" */
 #include "pages/software/gis-software-page.h"
 #include "pages/goa/gis-goa-page.h"
 #include "pages/account/gis-account-pages.h"
@@ -66,7 +66,7 @@ static PageData page_table[] = {
   PAGE (language, FALSE),
   PAGE (keyboard, FALSE),
   PAGE (network,  FALSE),
-  PAGE (privacy,  FALSE),
+/*  PAGE (privacy,  FALSE),*/
   PAGE (timezone, TRUE),
   PAGE (software, TRUE),
   PAGE (goa,      FALSE),
diff --git a/gnome-initial-setup/meson.build b/gnome-initial-setup/meson.build
index 3127803..0a464c5 100644
--- a/gnome-initial-setup/meson.build
+++ b/gnome-initial-setup/meson.build
@@ -63,7 +63,7 @@ dependencies = [
     dependency ('libsecret-1', version: '>= 0.18.8'),
     dependency ('pwquality'),
     dependency ('rest-1.0'),
-    dependency ('webkit2gtk-5.0'),
+#    dependency ('webkit2gtk-5.0'),
     ibus_dep,
     libmalcontent_dep,
     libmalcontent_ui_dep,
diff --git a/gnome-initial-setup/pages/meson.build b/gnome-initial-setup/pages/meson.build
index 3230501..4ece81a 100644
--- a/gnome-initial-setup/pages/meson.build
+++ b/gnome-initial-setup/pages/meson.build
@@ -4,7 +4,7 @@ pages = [
    'keyboard',
    'network',
    'timezone',
-   'privacy',
+#   'privacy',
    'goa',
    'password',
    'software',
